# Система управления задачами

**Система управления задачами**, построенная на основе **Spring Boot**, **PostgreSQL** и **Docker**, предоставляет безопасную аутентификацию, управление пользователями и функционал управления задачами.

---

## Возможности

- **Аутентификация пользователей**: Безопасный доступ с использованием JWT-токенов.
- **Контроль доступа на основе ролей**: Роли `USER` и `ADMIN` обеспечивают соответствующий доступ.
- **Управление задачами**: Создание, обновление, удаление и назначение задач с приоритетами и статусами.
- **Swagger-документация API**: Интерактивная документация API доступна по адресу `/swagger-ui.html`.
- **Настраиваемые переменные окружения**: Возможность указать данные для доступа к базе данных и ключ безопасности.

---

## Требования

- **Java**: Версия 21 или выше
- **Maven**: Для сборки приложения
- **Docker**: Для контейнеризации

---

## Настройка

### Переменные окружения

Разработчики могут настроить следующие переменные окружения:

1. **Данные для доступа к базе данных**:
   - `DB_USERNAME`: Имя пользователя базы данных (по умолчанию: `admin`).
   - `DB_PASSWORD`: Пароль пользователя базы данных (по умолчанию: `admin`).

2. **Секретный ключ безопасности**:
   - `SECURE_SECRET_KEY`: Кастомный ключ для генерации JWT-токенов (по умолчанию используется сгенерированный ключ в формате Base64).

Если переменные не установлены, приложение будет использовать значения по умолчанию.

---

### Шаги установки

1. **Клонируйте репозиторий**
   ```bash
   git clone https://github.com/your-repository/task-management-system.git
   cd task-management-system
   ```

2. **Соберите приложение**
   Выполните следующую команду для очистки и сборки приложения (тесты будут пропущены для ускорения сборки):
   ```bash
   mvn clean package -DskipTests
   ```

3. **Запустите приложение**
   Используйте Docker Compose для сборки и запуска приложения:
   ```bash
   docker-compose up --build
   ```

4. **Запустите тесты**
   После запуска приложения вы можете выполнить тесты:
   ```bash
   mvn test
   ```

---

### Документация API

После запуска приложения документация API будет доступна по следующему адресу:

- **URL**: `http://localhost:8080/swagger-ui.html`

---

### Примеры использования

#### **Регистрация нового пользователя**
```bash
curl -X POST \
  'http://localhost:8080/auth/register' \
  -H 'Content-Type: application/json' \
  -d '{
    "email": "user@example.com",
    "password": "user"
  }'
```

#### **Вход**
```bash
curl -X POST \
  'http://localhost:8080/auth/login' \
  -H 'Content-Type: application/json' \
  -d '{
    "email": "user@example.com",
    "password": "user"
  }'
```

#### **Администратор**
Администратор создается в системе по умолчанию с следующими данными:
- **Email**: `admin@example.com`
- **Пароль**: `admin`

---

### Управление базой данных

Приложение использует **PostgreSQL** в качестве базы данных. По умолчанию:
- Имя базы данных: `demo_db`
- Имя пользователя: `admin`
- Пароль: `admin`

Эти значения можно переопределить с помощью переменных `DB_USERNAME` и `DB_PASSWORD`.

---

### Устранение неполадок

#### **Проблемы с базой данных**
Если приложение не может подключиться к базе данных:
1. Убедитесь, что Docker запущен.
2. Проверьте, что учетные данные базы данных совпадают с переменными окружения.

#### **Секретный ключ JWT**
Если `SECURE_SECRET_KEY` не установлен, будет автоматически сгенерирован ключ Base64. Для повышения безопасности настройте собственный ключ.

#### **Ошибки приложения**
Запустите приложение в режиме отладки для идентификации проблем:
```bash
mvn spring-boot:run -Dspring-boot.run.arguments=--debug
```

---

## Разработка

### Технологический стек
- **Бэкенд**: Spring Boot (Java 21)
- **База данных**: PostgreSQL
- **Сборка**: Maven
- **Контейнеризация**: Docker

---

### Вклад

Принимаются предложения и изменения! Форкните репозиторий, внесите изменения и отправьте pull request.

---

### Лицензия

Этот проект лицензирован по лицензии **MIT**. См. файл `LICENSE` для подробностей.

---

### Автор

Разработано **Амир**.

По вопросам обращайтесь: [amirr.seit@gmail.com](mailto:your.email@example.com).

